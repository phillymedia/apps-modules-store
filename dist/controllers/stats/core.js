"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=require("lodash"),_phillyHelpers=require("philly-helpers"),_core=require("../core"),_core2=_interopRequireDefault(_core),_schema2=require("./schema"),_schema3=_interopRequireDefault(_schema2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function find(_ref,callback){var name=_ref.name;_core2.default.find(_schema3.default,{name:name,limit:1},function(err,data){return err?callback(err):((0,_lodash.isEmpty)(data)||(data=data[0].content),callback(null,data))})}function add(_ref2,callback){var delay=_ref2.delay,name=_ref2.name,content=_ref2.content,params={expireAt:(0,_phillyHelpers.minutesFromNow)(delay),name:name,content:content};_core2.default.add(_schema3.default,params,function(err,data){return err?callback(err):callback(null,data.content)})}function exists(_ref3,callback){var name=_ref3.name;_core2.default.exists(_schema3.default,{name:name},callback)}function remove(_ref4,callback){var name=_ref4.name;_core2.default.remove(_schema3.default,{name:name},callback)}exports.default={find:find,add:add,remove:remove,exists:exists};