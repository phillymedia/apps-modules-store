"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exists=exports.findOne=exports.findMany=void 0;var _lodash=require("lodash"),_core=require("../../core"),_core2=_interopRequireDefault(_core),_schema2=require("./schema"),_schema3=_interopRequireDefault(_schema2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function findMany(settings,callback){if(!(0,_lodash.isArray)(settings.id))return findOne(settings,callback);var params={id:{$in:settings.id}};return _core2.default.find(_schema3.default,params,function(err,data){return err?callback(err):(0,_lodash.isEmpty)(data)?callback(null,!1):callback(null,(0,_lodash.map)(data,function(datum){return datum.content}))})}function findOne(settings,callback){if((0,_lodash.isArray)(settings.id))return findMany(settings,callback);var params={id:settings.id};return _core2.default.findOne(_schema3.default,params,function(err,data){return err?callback(err):data&&data.content?callback(null,data.content):callback(null,!1)})}function exists(settings,callback){var params={id:settings.id};_core2.default.exists(_schema3.default,params,callback)}exports.findMany=findMany,exports.findOne=findOne,exports.exists=exists;